version: '3.1'
services:
  mongodb:
    image: 'mongo:3.6'
    ports:
      - "27017:27017"
    volumes:
      - /Users/edh/DockerProjects/mongodb/data:/data/db
    networks:
      - vdek
    hostname: mongodb
  vdekmock:
    image: edhi/vdekmock:latest
    networks:
      - vdek
    hostname: vdekmock
    ports:
      - "18080:8080"
    environment:
      MONGODB_HOST: ${MONGODB_HOST:-mongodb}
      MONGODB_PORT: ${MONGODB_PORT:-27017}
#  vdekmockadaptor:
#    image: edhi/vdekmockadaptor
#    networks:
#      - vdek
#    hostname: vdekmockadaptor
#    ports:
#      - "14444:4444"
#    environment:
#      - VdekMockAddress=${VDEKMOCKADDRESS:-vdekmock:8080}
networks:
  vdek:
    driver: bridge